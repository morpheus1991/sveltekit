<script>
	import { PUBLIC_BASE_URL } from '$env/static/public';
	import { getSession } from '$lib/session';
	import { dev } from '$app/environment';

	const { session } = getSession();
	const clickHandler = () => {
		console.log($session);
		fetch(`${dev ? PUBLIC_BASE_URL : NEXT_PUBLIC_VERCEL_URL}:${dev ? 5175 : 4173}/boards`, {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json' // ì»¨í…ì¸  íƒ€ì… í—¤ë” ì„¤ì •
				// í•„ìš”í•œ ê²½ìš° ì¶”ê°€ì ì¸ í—¤ë”ë¥¼ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”.
			},
			body: JSON.stringify({ text: 'test', auth: $session }) // JSON í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
		});
	};
</script>

<h1>HOME</h1>
<p>ğŸ‘‡ will redirect you to /login if you aren't authenticated.</p>
<a href="/app">App</a>

<button
	on:click={() => {
		clickHandler();
	}}>aaa</button
>
